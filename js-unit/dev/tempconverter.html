<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>Temp Converter</title>
  </head>
  <body>
      <div class="container">
          <div class="row">
              
              
              <div class="col-12 col-md-6  text-center text-white inline-flex order-0"><h1 class="bg-success">Temperature</h1></div>
              
              <div class="col-8 col-md-4 order-2 order-md-3">
                    <form class=" mt-2 ">
                        <input class="form-control" type="number" placeholder="Temperature" id="tempinput">
                    </form>
                 </div>
              <div class="col-4 col-md-2 order-2 order-md-3">
                    <div class="dropdown mt-2 ">
                      <div class="col-12 btn-group ">
						<select class="form-control bg-info text-white "  id="tempfc">
						  <option value="0">Fahrenheit</option>
						  <option value="1">Celsius</option>
						</select>
				</div>
                </div>
            
              </div>
              
              <div class="col-12 col-md-6 text-center text-white inline-flex order-3 order-md-2 pt-3 pt-md-0"><h1 class="bg-success">Result</h1></div>
              
              <div class="col-8 col-md-4 order-4">
                    <form class=" mt-2">
                        <input class="form-control disabled" type="search" placeholder="Temperature" id="resulttemp" readonly>
                    </form>
              </div>
              <div class="col-4 col-md-2 order-5 order-md-5">
                    <div class="dropdown mt-2 ">
                      <div class="col-12 btn-group ">
						<select class="form-control bg-info text-white "  id="resultfc">
						  <option value="0">Fahrenheit</option>
						  <option value="1">Celsius</option>
						</select>
				</div>
                </div>
            
              </div>
			  <div class="row order-7">
              <div class="d-none" id="errordiv">
			  ERROR!
		  </div>
			  </div>
              
            </div>
		  <div class="col-8" id="oldtemps">
		  
			  </div>
		  </div>
            
	  
	  <script>
	  
	  let docG = (id) =>{return document.getElementById(id);}
	  let tempinput = docG("tempinput")
	  let tempfc = docG("tempfc")
	  let resultfc = docG("resultfc")
	  let prevtemps = []
	  
	  let convert = () =>{
		  let inputnum = tempinput.value
		  let resultnum = inputnum
		  console.log()
		  docG("errordiv").className = "d-none";
		  if (tempfc.value == "0" && resultfc.value=="1"){
			  resultnum-=32
			  resultnum*=.5556
			  resultnum = resultnum.toFixed(2)
			  docG("resulttemp").value = resultnum
			  prevtemps.push(resultnum)
			  docG("oldtemps").innerHTML += "<div class='border col-6 m-3 text-center p-1' id='" + prevtemps.indexOf(resultnum) + "'>" + inputnum + "째 Fahrenheit = " + resultnum + "째 Celsius </div>" 
			  
		  }
		  if (tempfc.value == "1" && resultfc.value=="0"){
			  resultnum*=1.8
			  resultnum+=32
			  resultnum = resultnum.toFixed(2)
			 docG("resulttemp").value = resultnum
			 prevtemps.push(resultnum)
			 docG("oldtemps").innerHTML += "<div class='border col-6 m-3 text-center p-1' id='" + prevtemps.indexOf(resultnum) + "'>" + inputnum + "째 Celsius = " + resultnum + "째 Fahrenheit </div>"
			 
		  }
		  if (tempfc.value==resultfc.value){
			  docG("errordiv").className = "d-block bg-danger text-white col-12";
		  }
	  }
	  
	  let clickID = (event)=>{
		  console.log(event.target.id)
		  docG(event.target.id).innerHTML=""
		  docG(event.target.id).className=""
	  }

	  
	  
	  tempinput.addEventListener('change', (event) =>{
		  convert();
	  }
								)
		tempinput.addEventListener("keypress",  (event)=> {
			if (event.key==="Enter"){
				event.preventDefault();
				}
				});

	  	docG("oldtemps").addEventListener("click", clickID)

	  
	  
	  </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>